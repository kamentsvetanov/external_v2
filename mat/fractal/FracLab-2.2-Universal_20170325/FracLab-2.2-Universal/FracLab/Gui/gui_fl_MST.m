function fig = gui_fl_MST(varargin)
% Modified by Pierrick Legrand, November 2016
appdata = [];
appdata.GUIDEOptions = struct(...
    'active_h', [], ...
    'taginfo', struct(...
    'figure', 2, ...
    'uipanel', 3, ...
    'text', 8, ...
    'slider', 4, ...
    'popupmenu', 3, ...
    'edit', 7, ...
    'pushbutton', 4), ...
    'override', 0, ...
    'release', 13, ...
    'resize', 'none', ...
    'accessibility', 'callback', ...
    'mfile', 1, ...
    'callbacks', 1, ...
    'singleton', 1, ...
    'syscolorfig', 1, ...
    'blocking', 0, ...
    'lastSavedFile', 'D:\Documents and Settings\Hicham\Bureau\Figure Fraclab\MST_export.m');
appdata.lastValidTag = 'figure1';
appdata.GUIDELayoutEditor = [];
appdata.initTags = struct(...
    'handle', [], ...
    'tag', 'figure1');

h1 = figure(...
    'Units','characters',...
    'PaperUnits',get(0,'defaultfigurePaperUnits'),...
    'Color',[0.941176470588235 0.941176470588235 0.941176470588235],...
    'Colormap',[0 0 0.5625;0 0 0.625;0 0 0.6875;0 0 0.75;0 0 0.8125;0 0 0.875;0 0 0.9375;0 0 1;0 0.0625 1;0 0.125 1;0 0.1875 1;0 0.25 1;0 0.3125 1;0 0.375 1;0 0.4375 1;0 0.5 1;0 0.5625 1;0 0.625 1;0 0.6875 1;0 0.75 1;0 0.8125 1;0 0.875 1;0 0.9375 1;0 1 1;0.0625 1 1;0.125 1 0.9375;0.1875 1 0.875;0.25 1 0.8125;0.3125 1 0.75;0.375 1 0.6875;0.4375 1 0.625;0.5 1 0.5625;0.5625 1 0.5;0.625 1 0.4375;0.6875 1 0.375;0.75 1 0.3125;0.8125 1 0.25;0.875 1 0.1875;0.9375 1 0.125;1 1 0.0625;1 1 0;1 0.9375 0;1 0.875 0;1 0.8125 0;1 0.75 0;1 0.6875 0;1 0.625 0;1 0.5625 0;1 0.5 0;1 0.4375 0;1 0.375 0;1 0.3125 0;1 0.25 0;1 0.1875 0;1 0.125 0;1 0.0625 0;1 0 0;0.9375 0 0;0.875 0 0;0.8125 0 0;0.75 0 0;0.6875 0 0;0.625 0 0;0.5625 0 0],...
    'IntegerHandle','off',...
    'InvertHardcopy',get(0,'defaultfigureInvertHardcopy'),...
    'MenuBar','none',...
    'Name','MST',...
    'NumberTitle','off',...
    'PaperPosition',get(0,'defaultfigurePaperPosition'),...
    'PaperSize',get(0,'defaultfigurePaperSize'),...
    'PaperType',get(0,'defaultfigurePaperType'),...
    'Position',[3. 5. 90 28.1538461538462],...
    'Resize','off',...
    'HandleVisibility','callback',...
    'UserData',[],...
    'Tag','Fig_gui_fl_MST',...
    'Visible','on');
%---------------------------Frame 1---------------------------
h2_=uipanel('Parent',h1,'Units','characters','Title','',...
    'Position',[5.6 22.5384615384615 80.2 4.07692307692308],...
    'Tag','uipanel2','Behavior',get(0,'defaultuipanelBehavior'));

uicontrol('Parent',h2_,'Units','inches','FontSize',12,...
    'FontWeight','bold','Position',[0.208333333333333 0.15625 3.625 0.21875],...
    'String','Tempered Multi-Stable processes 1D','Style','text',...
    'Tag','text7');%,'Behavior',get(0,'defaultuicontrolBehavior'));
%-------------------------Frame 2------------------------------------
h2 = uipanel(...
    'Parent',h1,'Units','characters',...
    'Title','','Position',[5.4 4.38461538461538 80.4 17.1538461538462],...
    'Tag','uipanel1',...
    'Behavior',get(0,'defaultuipanelBehavior') );


%-------------------------Text-----------------------------
uicontrol('Parent',h2,'Units','characters',...
    'Position',[3.6 13.6923076923077 17.4 1.61538461538462],...
    'String','Alpha(t)','Style','text','Tag','text1');%,...
    %'Behavior',get(0,'defaultuicontrolBehavior') );

uicontrol('Parent',h2,'Units','characters',...
    'Position',[2.8 9.38461538461539 18.2 2.15384615384615],...
    'String','C parameter','Style','text','Tag','text2');%,...
    %'Behavior',get(0,'defaultuicontrolBehavior'));
uicontrol('Parent',h2,'Units','characters',...
    'Position',[2.8 7.30769230769231 18.2 2.15384615384615],...
    'String','G parameter','Style','text','Tag','text3');%,...
    %'Behavior',get(0,'defaultuicontrolBehavior'));

uicontrol('Parent',h2,'Units','characters',...
    'Position',[2.8 5.23076923076923 18.2 2.15384615384615],...
    'String','M parameter','Style','text','Tag','text4');%,...
    %'Behavior',get(0,'defaultuicontrolBehavior') );

uicontrol('Parent',h2,'Units','characters',...
    'Position',[2.8 3.15384615384615 18.2 2.15384615384615],...
    'String','Sample Size','Style','text','Tag','text5');%,...
    %'Behavior',get(0,'defaultuicontrolBehavior'));

uicontrol('Parent',h2,'Units','characters',...
    'Position',[2.8 1.07692307692308 18.2 2.15384615384615],...
    'String','Random Seed','Style','text','Tag','text6');%,...
    %'Behavior',get(0,'defaultuicontrolBehavior'));
%-------------------------Slider-----------------------------
uicontrol('Parent',h2,'Units','characters',...
    'BackgroundColor',[0.9 0.9 0.9],'Callback','fl_MST_compute(''slider_C'')',...
    'CData',[],'Position',[23.6 10.0769230769231 28 1.69230769230769],...
    'String',{  'Slider' },'Value',0.01, 'Min',0, 'Max', 0.1, ...
    'Style','slider','Tag','slider_C_','UserData',[]);%,...
    %'Behavior',get(0,'defaultuicontrolBehavior'));

uicontrol('Parent',h2,'Units','characters',...
    'BackgroundColor',[0.9 0.9 0.9],'Callback','fl_MST_compute(''slider_G'')',...
    'Position',[23.6 8 28 1.69230769230769],'Value',2, 'Min',0, 'Max', 200, ...
    'String',{  'Slider' },'Style','slider','Tag','slider_G_');%,...
    %'Behavior',get(0,'defaultuicontrolBehavior'));

uicontrol('Parent',h2,'Units','characters',...
    'BackgroundColor',[0.9 0.9 0.9],'Callback','fl_MST_compute(''slider_M'')',...
    'Position',[23.6 5.92307692307692 28 1.69230769230769],...
    'Value',2, 'Min',0, 'Max', 200, 'String',{  'Slider' },'Style',...
    'slider','Tag','slider_M_');%,'Behavior',get(0,'defaultuicontrolBehavior'));

%-------------------------PopupMenu-----------------------------
uicontrol('Parent',h2,'Units','characters',...
    'BackgroundColor',[1 1 1],'Callback','fl_MST_compute(''popmenu_alpha'')',...
    'Position',[23.6 13.6153846153846 46.8 1.69230769230769],...
    'String',{'linear', 'periodic', 'logistic', 'user defined'}, ...
    'Style','popupmenu','Value',1,'Tag','popmenu_alpha');%,...
    %'Behavior',get(0,'defaultuicontrolBehavior'));

uicontrol('Parent',h2,'Units','characters',...
    'BackgroundColor',[1 1 1],'Callback','fl_MST_compute(''Popupmenu_size'')',...
    'Position',[23.6 3.84615384615385 28.4 1.69230769230769],...
    'String',{'250 points', '500 points', '1000 points', '2000 points', ...
     '4000 points','8000 points','16000 points'},'Style','popupmenu',...
    'Value',3,'Tag','popmenu_size');%,'Behavior',get(0,'defaultuicontrolBehavior'));
%-------------------------EditText-----------------------------
uicontrol('Parent',h2,'Units','characters',...
    'BackgroundColor',[1 1 1],'Callback','fl_MST_compute(''edit_alphat'')',...
    'Position',[23.6 12 46.8 1.61538461538462],'String','0.9+1*t', ...
    'Style','edit','Tag','EditText_alphat');%,'Behavior',get(0,'defaultuicontrolBehavior'));

uicontrol('Parent',h2,'Units','characters',...
    'BackgroundColor',[1 1 1],'Callback','fl_MST_compute(''edit_C'')',...
    'Position',[54.6 10 15.8 1.69230769230769],'String','0.01',...
    'Style','edit','Tag','EditText_C');%,'Behavior',get(0,'defaultuicontrolBehavior'));

uicontrol('Parent',h2,'Units','characters',...
    'BackgroundColor',[1 1 1],'Callback','fl_MST_compute(''edit_G'')',...
    'Position',[54.6 7.92307692307692 15.8 1.69230769230769],...
    'String','2','Style','edit','Tag','EditText_G')%,...
    %'Behavior',get(0,'defaultuicontrolBehavior'));

uicontrol('Parent',h2,'Units','characters',...
    'BackgroundColor',[1 1 1],'Callback','fl_MST_compute(''edit_M'')',...
    'Position',[54.6 5.84615384615385 15.8 1.69230769230769],...
    'String','2','Style','edit','Tag','EditText_M');%,...
    %'Behavior',get(0,'defaultuicontrolBehavior'));

uicontrol('Parent',h2,'Units','characters',...
    'BackgroundColor',[1 1 1],'Callback','fl_MST_compute(''edit_seed'')',...
    'Position',[23.6 2.07692307692308 28.2 1.38461538461538],...
    'String','','Style','edit','Tag','EditText_seed');%,...
   % 'Behavior',get(0,'defaultuicontrolBehavior'));

uicontrol('Parent',h2,'Units','characters',...
    'BackgroundColor',[1 1 1],'Callback','fl_MST_compute(''edit_size'')',...
    'Position',[54.6 3.84615384615385 15.8 1.69230769230769],...
    'String','1000','Style','edit','Tag','EditText_size');%,...
    %'Behavior',get(0,'defaultuicontrolBehavior'));

uicontrol('Parent',h1,'Units','characters',...
    'Callback','eval([''global '' fl_MST_compute(''compute'',who)])',...
    'Position',[5.2 1 22.6 2.69230769230769],...
    'String','Compute',...
    'Tag','pushbutton_compute');%,...
    %'Behavior',get(0,'defaultuicontrolBehavior'));

uicontrol('Parent',h1,'Units','characters',...
    'Callback','fl_MST_compute(''help'')',...
    'Position',[33.8 1 22.6 2.69230769230769],...
    'String','Help','Tag','pushbutton_help');%,...
   % 'Behavior',get(0,'defaultuicontrolBehavior'));

uicontrol('Parent',h1,'Units','characters',...
    'Callback','fl_MST_compute(''close'')',...
    'Position',[63.4 1 22.6 2.69230769230769],...
    'String','Close','Tag','pushbutton_close');%,...
    %'Behavior',get(0,'defaultuicontrolBehavior'));

fl_window_init(h1);	
	
if nargout > 0, fig = h1; end
end